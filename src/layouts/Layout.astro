---
import Navbar from "../components/Navbar.astro";

export interface Props {
  title: string;
  page: string;
}

const items = [
  {
    title: "Home",
    href: "/",
    page: "home",
  },
  {
    title: "About",
    href: "/about",
    page: "about",
  },
  {
    title: "Shop",
    href: "/shop",
    page: "shop",
  },
];

const { title, page } = Astro.props;
---

<script>
  const scrollToTopBtn = document.querySelector(".scrollToTopBtn");
  const rootElement = document.documentElement;

  function handleScroll() {
    // Do something on scroll - 0.15 is the percentage the page has to scroll before the button appears
    // This can be changed - experiment
    var scrollTotal = rootElement.scrollHeight - rootElement.clientHeight;
    if (rootElement.scrollTop / scrollTotal > 0.15) {
      // Show button
      scrollToTopBtn?.classList.add("showBtn");
    } else {
      // Hide button
      scrollToTopBtn?.classList.remove("showBtn");
    }
  }

  function scrollToTop() {
    // Scroll to top logic
    rootElement.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  }
  scrollToTopBtn?.addEventListener("click", scrollToTop);
  document.addEventListener("scroll", handleScroll);
</script>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body>
    <Navbar items={items} image="" logo="Mer Store" page={page} />
    <button class="scrollToTopBtn">☝️</button>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"
    />
    <a
      href="https://api.whatsapp.com/send?phone=51955081075&text=Hola%21%20Quisiera%20m%C3%A1s%20informaci%C3%B3n%20sobre%20Varela%202."
      class="float"
      target="_blank"
    >
      <i class="fa fa-whatsapp my-float"></i>
    </a>
    <slot />
  </body>
</html>

<style is:global>
  :root {
    --accent: 124, 58, 237;
    --accent-gradient: linear-gradient(
      45deg,
      rgb(var(--accent)),
      #da62c4 30%,
      white 60%
    );
  }

  * {
    margin: 0;
    padding: 0;
    list-style: none;
    text-decoration: none;
    box-sizing: border-box;
  }
  html {
    font-family: system-ui, sans-serif;
    background-color: #f6f6f6;
  }

  code {
    font-family: Menlo, Monaco, Lucida Console, Liberation Mono,
      DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;
  }

  .float {
    position: fixed;
    width: 60px;
    height: 60px;
    bottom: 40px;
    left: 30px;
    background-color: #25d366;
    color: #fff;
    border-radius: 50px;
    text-align: center;
    font-size: 30px;
    box-shadow: 2px 2px 3px #999;
    z-index: 100;
  }

  .my-float {
    margin-top: 16px;
  }
  #button {
    display: inline-block;
    background-color: #ff9800;
    width: 50px;
    height: 50px;
    text-align: center;
    border-radius: 4px;
    position: fixed;
    bottom: 30px;
    right: 30px;
    transition: background-color 0.3s, opacity 0.5s, visibility 0.5s;
    opacity: 0;
    visibility: hidden;
    z-index: 1000;
  }
  #button::after {
    content: "\f077";
    font-family: FontAwesome;
    font-weight: normal;
    font-style: normal;
    font-size: 2em;
    line-height: 50px;
    color: #fff;
  }
  #button:hover {
    cursor: pointer;
    background-color: #333;
  }
  #button:active {
    background-color: #555;
  }
  #button.show {
    opacity: 1;
    visibility: visible;
  }

  /* Styles for the content section */

  .content {
    width: 77%;
    margin: 50px auto;
    font-family: "Merriweather", serif;
    font-size: 17px;
    color: #6c767a;
    line-height: 1.9;
  }
  @media (min-width: 500px) {
    .content {
      width: 43%;
    }
    #button {
      margin: 30px;
    }
  }
  .content h1 {
    margin-bottom: -10px;
    color: #03a9f4;
    line-height: 1.5;
  }
  .content h3 {
    font-style: italic;
    color: #96a2a7;
  }

  /*--------------------
 Back to Top Button
---------------------*/
  .scrollToTopBtn {
    background-color: #850f11;
    border: none;
    border-radius: 50%;
    color: white;
    cursor: pointer;
    font-size: 30px;
    line-height: 48px;
    width: 48px;
    /* place it at the bottom right corner */
    position: fixed;
    bottom: 30px;
    right: 30px;
    /* keep it on top of everything else */
    z-index: 100;
    /* hide with opacity */
    opacity: 0;
    /* also add a translate effect */
    transform: translateY(100px);
    /* and a transition */
    transition: all 0.5s ease;
  }

  .showBtn {
    opacity: 1;
    transform: translateY(0);
  }

  /*----------------
 	Hero Section
----------------*/
  .hero {
    display: flex;
    justify-content: center;
    height: 100vh;
    color: #fff;
    text-align: center;
    background-color: #850f11;
  }
  .hero h1 {
    font: bold 50pt "Open Sans", sans-serif;
    margin-bottom: 15px;
  }
  .hero h2 {
    font-size: 30pt;
  }
  .hero h3 {
    font: normal 20pt "Open Sans", sans-serif;
    margin: 1rem auto 0.5rem auto;
  }

  @media screen and (max-width: 800px) {
    .hero h1 {
      margin-top: 100px;
      margin-bottom: 80px;
    }
    .header-down-arrow {
      display: none;
    }
  }
</style>
